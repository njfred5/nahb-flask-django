{% extends "base.html" %}

{% block content %}
<h1 class="page-title">Stories</h1>

<form method="get" class="search-bar">
    <input type="text" name="q" placeholder="Search stories..." value="{{ request.GET.q }}">
    <button type="submit" class="btn-primary">Search</button>
</form>

<div class="story-grid">
    {% for s in stories %}
        <div class="story-card">
            <h3 class="story-title">
                <a href="{% url 'stories:story_detail' s.id %}">{{ s.title }}</a>
            </h3>

            {% if s.status == "draft" %}
                <span class="badge badge-draft">Draft</span>
                <a class="btn-secondary small-btn" href="{% url 'stories:play_story' s.id %}?preview=1">Preview</a>
            {% endif %}
        </div>
    {% empty %}
        <p>No stories found.</p>
    {% endfor %}
</div>

{% endblock %}
