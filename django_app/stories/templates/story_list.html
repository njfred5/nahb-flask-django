{% extends "base.html" %}

{% block content %}
<h1>Stories</h1>

<form method="get" style="margin-bottom: 20px;">
    <input type="text" name="q" placeholder="Search stories..." value="{{ request.GET.q }}">
    <button type="submit">Search</button>
</form>

<ul>
{% for s in stories %}
    <li>
        <a href="{% url 'stories:story_detail' s.id %}">
            {{ s.title }}
        </a>

        {% if s.status == "draft" %}
            <span style="color: orange; font-weight: bold;">(Draft)</span>
            <a href="{% url 'stories:play_story' s.id %}?preview=1">Preview</a>
        {% endif %}
    </li>
{% empty %}
    <li>No stories found.</li>
{% endfor %}
</ul>
{% endblock %}
